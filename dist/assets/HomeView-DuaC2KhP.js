import{o as n,c as s,a as l,t as u,b as h,d as g,n as x,e as b,r as k,f as H,g as f,w as N,h as _,v as z,i as B,j as V,k as v,F as S,l as D,u as C,m as M}from"./index-38-Sd6FP.js";const I=(e,r)=>{const i=e.__vccOpts||e;for(const[t,a]of r)i[t]=a;return i},T={},A={class:"sticky top-0 w-full px-6 lg:px-8 xl:px-16 2xl:px-18 py-3 lg:py-4 xl:py-6 2xl:py-8 flex items-center gap-x-3 bg-white shadow-md"};function q(e,r){return n(),s("header",A,[...r[0]||(r[0]=[l("svg",{class:"size-6 xl:size-8 2xl:size-10",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M4.31781 2.68742C5.23441 2.27078 6.53579 2 8 2C9.46421 2 10.7656 2.27078 11.6822 2.68742C12.6439 3.12457 13 3.62628 13 4C13 4.37372 12.6439 4.87543 11.6822 5.31258C10.7656 5.72922 9.46421 6 8 6C6.53579 6 5.23441 5.72922 4.31781 5.31258C3.35608 4.87543 3 4.37372 3 4C3 3.62628 3.35608 3.12457 4.31781 2.68742ZM13 5.69813V7C13 7.37372 12.6439 7.87543 11.6822 8.31258C10.7656 8.72922 9.46421 9 8 9C6.53579 9 5.23441 8.72922 4.31781 8.31258C3.35608 7.87543 3 7.37372 3 7V5.69813C3.27105 5.90046 3.5799 6.07563 3.90401 6.22295C4.97802 6.71114 6.42664 7 8 7C9.57336 7 11.022 6.71114 12.096 6.22295C12.4201 6.07563 12.729 5.90046 13 5.69813ZM14 4C14 2.993 13.1249 2.24472 12.096 1.77705C11.022 1.28886 9.57336 1 8 1C6.42664 1 4.97802 1.28886 3.90401 1.77705C2.87513 2.24472 2 2.993 2 4V13C2 14.007 2.87513 14.7553 3.90401 15.2229C4.97802 15.7111 6.42664 16 8 16C9.57336 16 11.022 15.7111 12.096 15.2229C13.1249 14.7553 14 14.007 14 13V4ZM13 8.69813V10C13 10.3737 12.6439 10.8754 11.6822 11.3126C10.7656 11.7292 9.46421 12 8 12C6.53579 12 5.23441 11.7292 4.31781 11.3126C3.35608 10.8754 3 10.3737 3 10V8.69813C3.27105 8.90046 3.5799 9.07563 3.90401 9.22295C4.97802 9.71114 6.42664 10 8 10C9.57336 10 11.022 9.71114 12.096 9.22295C12.4201 9.07563 12.729 8.90046 13 8.69813ZM13 11.6981V13C13 13.3737 12.6439 13.8754 11.6822 14.3126C10.7656 14.7292 9.46421 15 8 15C6.53579 15 5.23441 14.7292 4.31781 14.3126C3.35608 13.8754 3 13.3737 3 13V11.6981C3.27105 11.9005 3.5799 12.0756 3.90401 12.2229C4.97802 12.7111 6.42664 13 8 13C9.57336 13 11.022 12.7111 12.096 12.2229C12.4201 12.0756 12.729 11.9005 13 11.6981Z",fill:"#2b7fff"})],-1),l("h2",{class:"text-lg lg:text-xl xl:text-2xl 2xl:text-3xl font-semibold"},"PDF Report Generator",-1)])])}const F=I(T,[["render",q]]),U={class:"text-2xl lg:text-3xl 2xl:text-5xl font-semibold"},$={__name:"SectionTitle",props:{text:{type:String,required:!0}},setup(e){return(r,i)=>(n(),s("h2",U,u(e.text),1))}},Z={class:"w-full flex flex-col gap-y-2"},L=["for"],G={key:0,class:"text-red-500"},R=["name","id","placeholder","rows","disabled","value"],J=["type","id","name","placeholder","disabled","value"],O={key:2,class:"text-xs 2xl:text-base text-red-500"},w={__name:"BaseInputField",props:{id:{type:String,required:!0},label:{type:String,required:!0},type:{type:String,default:"text"},required:{type:Boolean,default:!1},placeholder:{type:String,required:!0},rows:{type:Number,default:4},disabled:{type:Boolean,default:!1},error:{type:String,default:""},modelValue:{type:[String,Number],default:""}},emits:["update:modelValue"],setup(e,{emit:r}){const i=e,t=r,a=b(()=>i.type==="textarea"),d=c=>{t("update:modelValue",c.target.value)};return(c,p)=>(n(),s("div",Z,[l("label",{class:"font-medium",for:e.id},[h(u(e.label)+" ",1),e.required?(n(),s("span",G,"*")):g("",!0)],8,L),a.value?(n(),s("textarea",{key:0,name:e.id,id:e.id,placeholder:e.placeholder,rows:e.rows,disabled:e.disabled,value:e.modelValue,onInput:d,class:x(["px-3 py-2 resize-none border border-gray-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 rounded-md 2xl:rounded-lg transition",e.error?"border-red-500 focus-visible:ring-red-500":"focus-visible:ring-blue-500/75"])},null,42,R)):(n(),s("input",{key:1,type:e.type,id:e.id,name:e.id,placeholder:e.placeholder,disabled:e.disabled,value:e.modelValue,onInput:d,class:x(["w-full px-3 py-2 border border-gray-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 rounded-md 2xl:rounded-lg transition",e.error?"border-red-500 focus-visible:ring-red-500":"focus-visible:ring-blue-500/75"])},null,42,J)),e.error?(n(),s("p",O,u(e.error),1)):g("",!0)]))}},j=["type","disabled"],K={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},W="inline-flex items-center gap-x-2 px-4 py-3 2xl:px-5 2xl-py-4 font-medium border rounded-md 2xl:rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 transition",P={__name:"BaseButton",props:{type:{type:String,default:"button"},text:{type:String,default:"Button"},variant:{type:String,default:"primary"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1}},setup(e){const r=e,i=b(()=>r.disabled||r.loading),t=b(()=>{switch(r.variant){case"secondary":return"text-blue-500 enabled:hover:text-white bg-blue-100 enabled:hover:bg-blue-500 border-blue-500 focus-visible:ring-blue-500";case"destructive":return"text-white bg-red-500 enabled:hover:bg-red-600 focus-visible:ring-red-600";default:return"text-white bg-blue-500 enabled:hover:bg-blue-600 focus-visible:ring-blue-600"}});return(a,d)=>(n(),s("button",{type:e.type,disabled:i.value,class:x([W,t.value,e.fullWidth?"w-full":"w-fit",i.value?"opacity-60 cursor-not-allowed":"cursor-pointer"])},[e.loading?(n(),s("span",K)):k(a.$slots,"icon",{key:1}),l("span",null,u(e.text),1)],10,j))}},E={class:"flex flex-col gap-y-2"},Y=["for"],Q={key:0,class:"text-red-500"},X={class:"relative flex items-center"},ee={class:"absolute left-3 text-gray-500 font-medium pointer-events-none select-none"},te=["id","name","placeholder","value","disabled"],le={key:0,class:"text-xs 2xl:text-base text-red-500"},ae={__name:"CurrencyInputField",props:{id:{type:String,required:!0},label:{type:String,required:!0},required:{type:Boolean,default:!1},prefix:{type:String,default:"Rp"},placeholder:{type:String,required:!0},disabled:{type:Boolean,default:!1},error:{type:String,default:""},modelValue:{type:Number,default:0}},emits:["update:modelValue"],setup(e,{emit:r}){const i=e,t=r,a=b(()=>i.modelValue===null||i.modelValue===""?"":new Intl.NumberFormat("id-ID").format(i.modelValue)),d=p=>{["Backspace","Delete","ArrowLeft","ArrowRight","Tab"].includes(p.key)||/^\d$/.test(p.key)||p.preventDefault()},c=p=>{const o=p.target.value.replace(/\D/g,"");t("update:modelValue",o?Number(o):0)};return(p,y)=>(n(),s("div",E,[l("label",{for:e.id,class:"font-medium"},[h(u(e.label)+" ",1),e.required?(n(),s("span",Q,"*")):g("",!0)],8,Y),l("div",X,[l("span",ee,u(e.prefix),1),l("input",{type:"text",id:e.id,name:e.id,placeholder:e.placeholder,value:a.value,onKeydown:d,onInput:c,disabled:e.disabled,inputmode:"numeric",class:x(["w-full px-3 py-2 pl-12 border border-gray-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 rounded-md 2xl:rounded-lg transition",e.error?"border-red-500 focus-visible:ring-red-500":"border-gray-300 focus-visible:ring-blue-500"])},null,42,te)]),e.error?(n(),s("p",le,u(e.error),1)):g("",!0)]))}},re={class:"flex flex-col gap-y-4 2xl:gap-y-6 p-6 2xl:p-8 bg-white rounded-lg 2xl:rounded-xl shadow"},ie={class:"flex flex-col md:flex-row gap-4 2xl:gap-6"},ne={class:"shrink-0 flex flex-col gap-y-2"},se=["disabled"],oe={key:0,class:"text-sm text-red-500"},de={class:"flex justify-end"},ue=H({__name:"ReportForm",emits:["generated"],setup(e,{emit:r}){const i=V(!1),t=v({pageSize:"A4",title:"",description:"",amount:0}),a=v({pageSize:"",title:"",description:"",amount:""}),d=()=>(a.pageSize=t.pageSize?"":"Page size harus diisi",t.title?t.title.length<5?a.title="Judul laporan minimal 5 karakter":a.title="":a.title="Judul laporan harus diisi",t.description?t.description.length<10?a.description="Deskripsi minimal 10 karakter":a.description="":a.description="Deskripsi harus diisi",t.amount===0||t.amount===null?a.amount="Nominal harus diisi":Number(t.amount)<0||Number.isNaN(Number(t.amount))?a.amount="Nominal minimal Rp 0":a.amount="",!Object.values(a).some(Boolean)),c=()=>{d()&&(i.value=!0,setTimeout(()=>{p("generated",{pageSize:t.pageSize,title:t.title,amount:t.amount,createdAt:new Date().toISOString()}),i.value=!1,t.pageSize="A4",t.title="",t.description="",t.amount=0},1500))},p=r;return(y,o)=>(n(),s("section",re,[f($,{text:"Formulir Laporan"}),l("form",{onSubmit:N(c,["prevent"]),class:"flex flex-col gap-y-4 2xl:gap-y-6"},[l("div",ie,[l("div",ne,[o[5]||(o[5]=l("label",{for:"page-size",class:"font-medium"},[h(" Ukuran Halaman "),l("span",{class:"text-red-500"},"*")],-1)),_(l("select",{id:"page-size","onUpdate:modelValue":o[0]||(o[0]=m=>t.pageSize=m),disabled:i.value,class:x(["px-3 py-2 border border-gray-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 rounded-md transition",a.pageSize?"border-red-500 focus-visible:ring-red-500":"focus-visible:ring-blue-500/75"])},[...o[4]||(o[4]=[l("option",{value:"A4"},"A4",-1),l("option",{value:"A5"},"A5",-1),l("option",{value:"Letter"},"Letter",-1)])],10,se),[[z,t.pageSize]]),a.pageSize?(n(),s("p",oe,u(a.pageSize),1)):g("",!0)]),f(w,{id:"title",label:"Judul Laporan",placeholder:"Masukkan judul laporan",disabled:i.value,modelValue:t.title,"onUpdate:modelValue":o[1]||(o[1]=m=>t.title=m),error:a.title,required:""},null,8,["disabled","modelValue","error"])]),f(w,{type:"textarea",id:"description",label:"Deskripsi / Isi Laporan",rows:4,placeholder:"Masukkan deskripsi / isi laporan",disabled:i.value,modelValue:t.description,"onUpdate:modelValue":o[2]||(o[2]=m=>t.description=m),error:a.description,required:""},null,8,["disabled","modelValue","error"]),f(ae,{id:"amount",label:"Nominal (Rp)",placeholder:"Masukkan nominal",disabled:i.value,modelValue:t.amount,"onUpdate:modelValue":o[3]||(o[3]=m=>t.amount=m),error:a.amount,required:""},null,8,["disabled","modelValue","error"]),l("div",de,[f(P,{type:"submit",text:"Generate PDF",loading:i.value},{icon:B(()=>[...o[6]||(o[6]=[l("svg",{class:"size-5 2xl:size-7",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 4.5V14C14 15.1046 13.1046 16 12 16H11V15H12C12.5523 15 13 14.5523 13 14V4.5H11C10.1716 4.5 9.5 3.82843 9.5 3V1H4C3.44772 1 3 1.44772 3 2V11H2V2C2 0.89543 2.89543 0 4 0H9.5L14 4.5ZM1.59961 11.85H0V15.849H0.791016V14.5072H1.59375C1.88086 14.5072 2.125 14.4496 2.32617 14.3344C2.5293 14.2172 2.68359 14.059 2.78906 13.8598C2.89648 13.6586 2.9502 13.433 2.9502 13.183C2.9502 12.933 2.89746 12.7074 2.79199 12.5063C2.68652 12.3051 2.5332 12.1459 2.33203 12.0287C2.13281 11.9096 1.88867 11.85 1.59961 11.85ZM2.14453 13.183C2.14453 13.3315 2.11621 13.4584 2.05957 13.5639C2.00488 13.6674 1.92578 13.7475 1.82227 13.8041C1.71875 13.8588 1.59375 13.8861 1.44727 13.8861H0.788086V12.4799H1.44727C1.66602 12.4799 1.83691 12.5404 1.95996 12.6615C2.08301 12.7826 2.14453 12.9565 2.14453 13.183ZM3.36211 11.85V15.849H4.82109C5.22344 15.849 5.55645 15.7699 5.82012 15.6117C6.08574 15.4535 6.28398 15.224 6.41484 14.9232C6.5457 14.6225 6.61113 14.2611 6.61113 13.8393C6.61113 13.4193 6.5457 13.0609 6.41484 12.7641C6.28594 12.4672 6.08965 12.2406 5.82598 12.0844C5.5623 11.9281 5.22734 11.85 4.82109 11.85H3.36211ZM4.15312 12.4945H4.71562C4.96367 12.4945 5.1668 12.5453 5.325 12.6469C5.48516 12.7484 5.60332 12.8998 5.67949 13.101C5.75762 13.3022 5.79668 13.5531 5.79668 13.8539C5.79668 14.0805 5.77422 14.2777 5.7293 14.4457C5.68633 14.6137 5.6209 14.7543 5.53301 14.8676C5.44707 14.9789 5.33574 15.0629 5.19902 15.1195C5.0623 15.1742 4.90117 15.2016 4.71562 15.2016H4.15312V12.4945ZM7.89609 14.2582V15.849H7.10508V11.85H9.65391V12.5033H7.89609V13.6195H9.50156V14.2582H7.89609Z",fill:"currentcolor"})],-1)])]),_:1},8,["loading"])])],32)]))}}),ce=e=>{if(e==null)return"0";const r=Number(e);return isNaN(r)?"0":`Rp ${r.toLocaleString("id-ID")}`},pe=e=>{const r=new Date(e);if(isNaN(r.getTime())||e==null)return"-";const i=r.getUTCDate().toString().padStart(2,"0"),t=(r.getUTCMonth()+1).toString().padStart(2,"0"),a=r.getUTCFullYear().toString(),d=(r.getUTCHours()+7)%24,c=r.getUTCMinutes().toString().padStart(2,"0"),p=d.toString().padStart(2,"0");return`${i}/${t}/${a}, ${p}:${c} WIB`},fe={class:"flex flex-col gap-y-4 2xl:gap-y-6 p-6 2xl:p-8 bg-white rounded-lg 2xl:rounded-xl shadow"},me={class:"overflow-x-scroll"},ge={class:"w-full"},xe={key:0},be={class:"text-start!"},ye={key:1},he={__name:"TableHistory",props:{data:{type:Array,default:()=>[]}},setup(e){const r=e,i=b(()=>[...r.data].sort((t,a)=>new Date(a?.createdAt)-new Date(t?.createdAt)));return(t,a)=>(n(),s("section",fe,[f($,{text:"Daftar History Generate"}),l("div",me,[l("table",ge,[a[1]||(a[1]=l("thead",null,[l("tr",null,[l("th",null,"No"),l("th",null,"Judul Laporan"),l("th",null,"Ukuran Halaman"),l("th",null,"Nominal"),l("th",null,"Tanggal")])],-1)),e.data.length?(n(),s("tbody",xe,[(n(!0),s(S,null,D(i.value,(d,c)=>(n(),s("tr",{key:c},[l("td",null,u(`${c+1}.`),1),l("td",be,u(d?.title),1),l("td",null,u(d?.pageSize),1),l("td",null,u(C(ce)(d?.amount)),1),l("td",null,u(C(pe)(d?.createdAt)),1)]))),128))])):(n(),s("tbody",ye,[...a[0]||(a[0]=[l("tr",null,[l("td",{colspan:"5",class:"text-center text-gray-500 font-medium"}," Tidak ada data history ")],-1)])]))])])]))}},ve={class:"min-h-dvh w-full px-6 lg:px-8 xl:px-16 2xl:px-18 py-6 lg:py-8 xl:py-10 2xl:py-12 flex flex-col gap-y-6 lg:gap-y-8 xl:gap-y-10 2xl:gap-y-12 bg-gray-100"},we={__name:"HomeView",setup(e){const r=V(JSON.parse(localStorage.getItem("histories")||"[]")),i=t=>{r.value.push(t)};return M(r,t=>{localStorage.setItem("histories",JSON.stringify(t))},{deep:!0}),(t,a)=>(n(),s(S,null,[f(F),l("main",ve,[f(ue,{onGenerated:i}),f(he,{data:r.value},null,8,["data"])])],64))}};export{we as default};
